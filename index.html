<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Portail Rapports Power BI</title>
    <script>
        async function checkPassword() {
            const hashStored = "935da4b5fbbcf31b53b89e6f4732590b53b94033d8739a4eb6c9af6c6fba96ea";
            const password = prompt("Veuillez entrer le mot de passe :");
            if (!password) return;

            const cleanPassword = password.trim(); // Retire espaces avant/aprÃ¨s

            const encoder = new TextEncoder();
            const data = encoder.encode(cleanPassword);
            const hashBuffer = await crypto.subtle.digest('SHA-256', data);
            const hashArray = Array.from(new Uint8Array(hashBuffer));
            const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');

            if (hashHex === hashStored) {
                document.getElementById("content").style.display = "block";
            } else {
                alert("Mot de passe incorrect !");
            }
        }
    </script>
</head>
<body onload="checkPassword()">
    <div id="content" style="display:none; text-align: center;">
        <h2>Rapport 1 - Analyse du stock</h2>
        <iframe style="width: 100%; height: 90vh;" 
                src="https://app.powerbi.com/reportEmbed?reportId=b3d35a45-3ae5-41b4-ab4d-be6c85f1476d&autoAuth=true&ctid=296fa80e-7707-4c5d-97c2-60d76a1081c5" 
                frameborder="0" allowfullscreen></iframe>

        <h2>Rapport 2 - Depreciation de stock</h2>
        <iframe style="width: 100%; height: 90vh;" 
                src="https://app.powerbi.com/reportEmbed?reportId=0ea0e042-ef3b-4bb1-bb82-126123eb3999&autoAuth=true&ctid=296fa80e-7707-4c5d-97c2-60d76a1081c5" 
                frameborder="0" allowfullscreen></iframe>

        <h2>Rapport 3 - Analyse du CA</h2>
        <iframe style="width: 100%; height: 90vh;" 
                src="https://app.powerbi.com/reportEmbed?reportId=d07ba249-7981-4e2a-abf6-b5eb4ed0b6d9&autoAuth=true&ctid=296fa80e-7707-4c5d-97c2-60d76a1081c5" 
                frameborder="0" allowfullscreen></iframe>
    </div>
</body>
</html>
